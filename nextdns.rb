# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Nextdns < Formula
  desc "NextDNS DNS/53 to DoH Proxy"
  homepage "https://nextdns.io"
  version "1.12.4"
  bottle :unneeded

  if OS.mac? && Hardware::CPU.intel?
    url "https://github.com/nextdns/nextdns/releases/download/v1.12.4/nextdns_1.12.4_darwin_amd64.tar.gz"
    sha256 "86d3fa165fe1ec84e63640d512a60ee703818bae226ade1ab1b9c28d7c5dc925"
  end
  if OS.mac? && Hardware::CPU.arm?
    url "https://github.com/nextdns/nextdns/releases/download/v1.12.4/nextdns_1.12.4_darwin_arm64.tar.gz"
    sha256 "ba00f6f2d687b441681bef0eea30ddf78a5497323c3c54caa07d34c568557a73"
  end
  if OS.linux? && Hardware::CPU.intel?
    url "https://github.com/nextdns/nextdns/releases/download/v1.12.4/nextdns_1.12.4_linux_amd64.tar.gz"
    sha256 "a1d5a4855cdad0d32b8d63e7b3a656460b41382133e87b28a6c9ce7be58bb968"
  end
  if OS.linux? && Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
    url "https://github.com/nextdns/nextdns/releases/download/v1.12.4/nextdns_1.12.4_linux_armv6.tar.gz"
    sha256 "6253faff5889e51a464351655bde3da86bb732327ea522c8c5a2d11b83c34c24"
  end
  if OS.linux? && Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
    url "https://github.com/nextdns/nextdns/releases/download/v1.12.4/nextdns_1.12.4_linux_arm64.tar.gz"
    sha256 "2e1bf1ba6a84cc246b3167c2bec5525769e5887a1ed9463b892897a4439cb187"
  end

  def install
    bin.install "nextdns"
  end

  def caveats; <<~EOS
    To install NextDNS, run the following command:
    sudo nextdns install --config <your_conf_id>
    Then setup your DNS manually to 127.0.0.1 or by running:
    sudo nextdns activate
  EOS
  end
end
